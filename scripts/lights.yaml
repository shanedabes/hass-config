---
living_room_lights:
  sequence:
    - choose:
        - conditions:
            - condition: state
              entity_id: input_boolean.living_room_presence
              state: 'on'

            - condition: state
              entity_id: sun.sun
              state: 'below_horizon'

          sequence:
            - service: switch.turn_on
              entity_id: switch.living_room_light_switch

      default:
        - service: switch.turn_off
          entity_id: switch.living_room_light_switch

kitchen_lights:
  sequence:
    - choose:
        - conditions:
            - condition: state
              entity_id: input_boolean.kitchen_presence
              state: 'on'

            - condition: state
              entity_id: sun.sun
              state: 'below_horizon'

          sequence:
            - service: switch.turn_on
              entity_id: switch.kitchen_light_switch

      default:
        - service: switch.turn_off
          entity_id: switch.kitchen_light_switch

bedroom_lights:
  sequence:
    - choose:
        - conditions:
            - condition: state
              entity_id: input_boolean.bedroom_presence
              state: 'on'

            - condition: state
              entity_id: sun.sun
              state: 'below_horizon'

          sequence:
            - service: switch.turn_on
              entity_id: switch.bedroom_light_switch

      default:
        - service: switch.turn_off
          entity_id: switch.bedroom_light_switch

office_lights:
  sequence:
    - choose:
        - conditions:
            - condition: state
              entity_id: input_boolean.office_presence
              state: 'on'

            - condition: state
              entity_id: sun.sun
              state: 'below_horizon'

          sequence:
            - service: switch.turn_on
              entity_id: switch.office_light_switch

      default:
        - service: switch.turn_off
          entity_id: switch.office_light_switch
